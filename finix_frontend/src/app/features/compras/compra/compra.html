<div class="p-4 sm:p-8 bg-gray-50 min-h-screen">
    <mat-toolbar class="bg-white shadow-md rounded-lg mb-6">
        <h1 class="text-2xl font-bold text-gray-800 flex-auto">Historial de Compras</h1>
        <app-custom-button color="primary" (buttonClick)="abrirDialogoCompra()">
            <mat-icon>add_shopping_cart</mat-icon>
            <span>Registrar Compra</span>
        </app-custom-button>
    </mat-toolbar>

    <div class="mat-elevation-z4 overflow-hidden rounded-lg bg-white">
        <table mat-table [dataSource]="compras()" class="w-full">
            <ng-container matColumnDef="id"><th mat-header-cell *matHeaderCellDef>ID</th><td mat-cell *matCellDef="let c">#{{c.id}}</td></ng-container>
            <ng-container matColumnDef="fecha"><th mat-header-cell *matHeaderCellDef>Fecha</th><td mat-cell *matCellDef="let c">{{c.fecha | date:'dd/MM/yyyy'}}</td></ng-container>
            <ng-container matColumnDef="proveedor"><th mat-header-cell *matHeaderCellDef>Proveedor</th><td mat-cell *matCellDef="let c">{{c.proveedor.nombre}}</td></ng-container>
            <ng-container matColumnDef="total"><th mat-header-cell *matHeaderCellDef>Total</th><td mat-cell *matCellDef="let c">{{c.totalCompra | number:'1.0-0'}} COP</td></ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-50"></tr>
             @if (!compras().length) {
                <tr class="mat-row">
                    <td class="mat-cell text-center p-6 text-gray-500" [attr.colspan]="displayedColumns.length">
                        No hay compras para mostrar.
                    </td>
                </tr>
            }
        </table>
    </div>
</div>